!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);var r=document.getElementById("samurai"),i=r.getContext("2d");r.width=1600,r.height=1e3;var o={x:650,y:720,width:75,height:80,frameX:0,frameY:0,speed:9,health:0,moving:!1,currentAction:null,animationFrames:[],punchOffset:0},a=[];function h(e){this.sound=document.createElement("audio"),this.sound.src=e,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.play=function(){this.sound.play()},this.stop=function(){this.sound.pause()}}var s=new Image;s.src="src/images/Samurai.png";var l=new Image;l.src="src/images/trees.png",(new Image).src="src/images/arrow.png";var d=new Image;d.src="src/images/health.png";var c=new Image;c.src="src/images/gameover.png";var u=new Image;u.src="src/images/muted.png";var f=new Image;f.src="src/images/unmuted.png";var g=new h("../src/sound/game.mp3"),m=new h("../src/sound/hit.mp3"),p=new h("../src/sound/miss.mp3"),w=new h("../src/sound/hurt.mp3"),y=new h("../src/sound/lose.mp3"),v=new h("../src/sound/air.mp3");function x(e,t,n,r,o,a,h,s,l){i.drawImage(e,t,n,r,o,a,h,s,l)}var b=[];function I(e){var t=new Image;t.src="right"===e?"src/images/arrow2.png":"src/images/arrow.png";var n={sprite:t,x:0,y:r.height-250,width:286,height:58,speed:10};"left"===e?n.x=0:(n.x=r.width-50,n.speed=-1*n.speed),b.push(n)}var M=0,S={sprite:d,x:r.width/2-50,y:r.height/2+150,width:600,height:110,frameX:0,frameY:0};function A(){var e=3e3+Math.floor(5e3*Math.random());setInterval((function(){I("right")}),e)}function O(){var e=3e3+Math.floor(5e3*Math.random());setInterval((function(){I("left")}),e)}var k=0,T=0,R=!0,j=!0,F="ongoing";window.addEventListener("keydown",(function(e){a[e.keyCode]=!0,console.log(a)})),window.addEventListener("keyup",(function(e){delete a[e.keyCode]}));var X=[0,1,0],B=[1.15,1,50],_=[2.17,1,50],E=[5,1,0],P=[3.98,1,0],Y=[3.05,1,0];document.querySelector("#game").addEventListener("click",(function e(){if(R&&(g.play(),i.drawImage(f,0,0,r.width,r.height)),a[80]?(g.stop(),R=!1):a[79]&&(R=!0),a[73]&&(j=!1),a[85]&&(j=!0),100===(k+=1)){var t=Math.floor(Math.random()*Math.floor(2))+1;console.log(t),2==t?A():O()}if(k%500==0){var n=Math.floor(Math.random()*Math.floor(2))+1;console.log(n),2==n?A():O()}i.clearRect(0,0,r.width,r.height),i.strokeText(M,10,50),i.drawImage(l,0,0,r.width,r.height),R?(i.font="Bold 30px Roboto",i.fillStyle="white",i.fillText("Music",r.width/8-120,r.height/8-80),i.drawImage(f,0,50,r.width/10,r.height/8)):(i.font="Bold 30px Roboto",i.fillStyle="white",i.fillText("Music",r.width/8-120,r.height/8-80),i.drawImage(u,0,50,r.width/10,r.height/8)),j?(i.font="Bold 30px Roboto",i.fillStyle="white",i.fillText("Sound FX",1475,50),i.drawImage(f,1400,50,r.width/10,r.height/8)):(i.font="Bold 30px Roboto",i.fillStyle="white",i.fillText("Sound FX",1475,50),i.drawImage(u,1400,50,r.width/10,r.height/8)),i.font="Bold 100px Roboto",i.strokeStyle="black",i.fillStyle="white",i.textAlign="center",i.strokeText(M,r.width/2,r.height/2-50),i.fillText(M,r.width/2,r.height/2-50),x(S.sprite,0,110*o.health,S.width,S.height,S.x,S.y,S.height,.05*S.width),x(s,o.width*o.frameX,o.height*o.frameY,o.width,o.height,o.x+o.punchOffset,o.y,3*o.height,2*o.width);for(var h=0;h<b.length;h++){var d=b[h];d.x+=d.speed,x(d.sprite,0,0,d.width,d.height,d.x,d.y,.8*d.height,.1*d.width)}!function(){if(a[39]&&39!=o.currentAction)o.currentAction=39,o.animationFrames=[X,X,X,B,B,B,_,_,_],j&&v.play();else if(a[37]&&37!=o.currentAction)j&&v.play(),o.currentAction=37,o.animationFrames=[E,E,E,P,P,P,Y,Y,Y];else{var e=o.animationFrames.pop(0);e?(o.punchOffset=e[2],o.frameX=e[0],o.frameY=e[1]):(o.frameX=0,o.frameY=0,o.punchOffset=0,o.currentAction=null)}}();for(var I=0;I<b.length;I++)o.x+70===b[I].x||o.x+95+o.width===b[I].x?(b.shift(),o.health+=1,T=0,j&&w.play()):o.x+10===b[I].x||o.x+155+o.width===b[I].x?39!==o.currentAction&&37!==o.currentAction||(b.shift(),j&&m.play(),M+=1,(T+=1)%10==0&&o.heath<5&&(o.health-=1)):j&&p.play();o.health>=5&&(F="done"),"ongoing"===F?requestAnimationFrame(e):(g.stop(),y.play(),i.clearRect(0,0,r.width,r.height),i.fillStyle="black",i.fillRect(0,0,r.width,r.height),i.drawImage(c,0,0,r.width,r.height))}))},function(e,t,n){}]);
//# sourceMappingURL=main.js.map